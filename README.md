## aleph
Modular ALEPH programming language v2.4

Aleph is a historical programming language; its name is an abbreviation for
**A** **L**anguage **E**ncouraging **P**rogram **H**iearachy.
This is an Aleph complier written in Aleph. The language is described
in the [Aleph Manual](https://lcsirmaz.github.io/aleph/);
while the implemented Aleph language is discussed in
[Aleph Compiler 2.4](https://lcsirmaz.github.io/aleph/alephcomp.html).
Try out the language features in the interactive
[Aleph PlayGround](https://lcsirmaz.github.io/aleph/play.html),
where you can edit, compile and run ALEPH code without installing anything.

## Source files

The ALEPH compiler, optimizer and linker are written in Modular ALEPH itself.
Files with extension `.ale` are Aleph source files. The compiler produces
an intermediate ALICE code. The intermediate code is linked either to C
(which can be compiled by a C compiler), or to javascript (to be run
directly by a browser).

* [comp](comp) Aleph compiler modules (aleph code)
* [opt](opt) Module optimizer (aleph code)
* [link](link) Linker producing C target (aleph code)
* [jslink](jslink) Linker producing javascript target (aleph code)
* [stdlib](stdlib) Standard Aleph library for the compiler (aleph code)
* [stdC](stdC) Aleph library files for the C linker (aleph code)
* [stdjs](stdjs) Aleph library files for the javascript linker (aleph code)
* [sample](sample) Some sample aleph programs
* [doc](doc) Aleph Manual and implementation details

### Target specific files

* [C](C) The C code of the compiler, optimizer and both linkers as generated by the Aleph &xrarr; C compiler
* [coreC](coreC) C running environment (programs and headers)
* [corejs](corejs) javascript running environment
* [joe](joe) Joe syntax highlighter for Aleph programs with .ale extension

## Compiling the Aleph &xrarr; C compiler

Compile the `acomp.c`, `aopt.c` and `alink.c` files in the [C](C) directory:

    gcc -W -O3 -I ../coreC -o acomp acomp.c ../coreC/*.c
    gcc -W -O3 -I ../coreC -o aopt  aopt.c ../coreC/*.c
    gcc -W -O3 -I ../coreC -o alink alink.c ../coreC/*.c
   
## Compiling, linking and running aleph files using C target

The `acomp` program produces intermediate `.ice` files from Aleph modules and 
from the main Aleph file.
The `aopt` program performs some optimization on the `.ice` file.
Linking '.ice' files is done by `alink` which generates a C source code.
The additional header and C files needed to compile the generated C program
are in the directory `coreC`.

The directory containing standard library files can be specified after the `-L`
argument; these are `stdlib` and `stdC` for the compiler and the linker,
respectively. The following commands, given in the main directory, compile, link,
and run the `ex2.ale` sample program from the [sample](sample) directory.

    C/acomp -L stdlib sample/ex2  # generate ex2.ice
    C/aopt  sample/ex2            # optimize ex2.ice
    C/alink -L stdC  ex2          # generate ex2.c
    gcc -I coreC -o ex2 ex2.c coreC/*.c
    ./ex2                         # run it

